# 가비지 컬렉션(Garbage Collection)이란?

## 1. 가비지 컬렉션이란?
* 코드를 짤때 사용하는 변수들, 함수들, 객체들은 메모리 위에서만 작동. 
* 다시말해, 메모리를 다 소모하면 얘들을 사용할 수 없다는 소리. 
* 따라서, 원활하게 프로그래밍을 하기 위해서는 이 메모리 위에 놓여진 변수들과 함수들, 객체들을 어느정도 처리를 해 주어야 함. 
* 처리를 해 준다는 소리는 더이상 사용되지 않는 애들을 처리해준다는 이야기. 
* 그렇게 사용되지 않는 아이들을 자동으로 잡아와 쓰레기통으로 집어넣는 기능이 가지비 컬렉션.
* C나 C++에서는 이러한 기능 대신 개발자가 하나하나 적어가며 메모리를 관리해주어야 했음. 
* 이렇게 가비지 컬렉션을 통해 메모리 관리가 가능한 언어를 managed language라고 하고, 직접 관리해야 하는 언어들을 unmanaged language라고 한다. 
* 하지만 가비지 컬렉션도 만능은 아니기에 부정확한 부분이 발생하고 이를 메모리 누수라고 한다. 
* 각 언어별로 이러한 누수를 처리하는 방법은 다양하기에 사용하는 언어에 따라 통상적으로 메모리 누수를 처리하는 방법을 숙지할 필요 존재.

### managed language 종류
* Java, C#, Javascript ...

## 2. 대표적인 가비지 컬렉션 방식

### 트레이싱
* 한 객체에 flag를 두고, 가비지 컬렉션 사이클마다 flag에 표시 후 삭제하는 mark and sweep 방식. 
* 객체에 in-use-flag를 두고, 사이클마다 메모리 관리자가 모든 객체를 추적해서 사용중인지 아닌지를 표시(mark)한다. 
* 그 후 표시되지 않은 객체를 삭제(sweep) 하는 단계를 통해 메모리에서 객체를 내린다. 

### 레퍼런스 카운팅
* 한 객체를 참조하는 변수의 수를 추적하는 기법
* 객체를 참조하는 변수는 특정 메모리에 대해 레퍼런스가 하나 뿐이지만, 변수의 레퍼런스가 복사될 때마다 레퍼런스 카운트가 상승
* 객체를 참조하고 있던 변수의 값이 바뀌거나 변수 스코프를 벗어나면 레퍼런스 카운트는 줄어든다. 
* 레퍼런스 카운트가 0이 되면, 그 객체와 관련된 메모리는 비울 수 있다. 

---
## ref

[가비지 컬렉터가 뭐하는 건가요?](https://www.youtube.com/watch?v=24f2-eJAeII)